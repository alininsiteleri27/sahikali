<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SatranÃ§ ve mini oyunlar platformu - Global chat, liderlik tablosu ve heyecanlÄ± oyunlar!">
    <meta name="keywords" content="satranÃ§, oyun, chat, liderlik, puan, multiplayer">
    <meta http-equiv="Cache-Control" content="max-age=31536000">
    <title>SatranÃ§ Oyun Platformu - Pro Edition</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â™Ÿï¸</text></svg>">
</head>
<body>
    <!-- Toast Notification System -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">YÃ¼kleniyor...</div>
    </div>

    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-box">
            <div class="login-title" id="loginTitle">ğŸ® GiriÅŸ Yap</div>
            <input type="email" class="login-input" placeholder="Email" id="loginEmail" autocomplete="email" aria-label="Email adresi">
            <input type="password" class="login-input" placeholder="Åifre (min 6 karakter)" id="loginPassword" autocomplete="current-password" aria-label="Åifre">
            <input type="text" class="login-input" placeholder="KullanÄ±cÄ± AdÄ±" id="loginUsername" style="display: none;" aria-label="KullanÄ±cÄ± adÄ±">
            <button class="login-button" id="loginButton" aria-label="GiriÅŸ yap">GiriÅŸ Yap</button>
            <div class="login-error" id="loginError" role="alert" aria-live="assertive"></div>
            <div class="login-toggle" id="loginToggle" tabindex="0" role="button" aria-label="KayÄ±t ol">HesabÄ±n yok mu? KayÄ±t ol</div>
        </div>
    </div>

    <!-- Main App -->
    <div class="container" id="mainApp" aria-hidden="true">
        <!-- Header -->
        <header class="header">
            <div class="profile-section">
                <div class="profile-icon" id="profileIcon" role="button" aria-label="Profil menÃ¼sÃ¼" aria-expanded="false" aria-controls="dropdown">
                    <img id="profileImage" src="" alt="Profil resmi" style="display: none;">
                    <span id="profileEmoji" aria-hidden="true">ğŸ‘¤</span>
                </div>
                <div>
                    <div class="username" id="headerUsername">YÃ¼kleniyor...</div>
                    <div class="user-email" id="headerEmail">loading...</div>
                </div>
                
                <!-- Dropdown Menu -->
                <div class="dropdown" id="dropdown" role="menu" aria-hidden="true">
                    <div class="dropdown-item" id="profileInfo">
                        <span aria-hidden="true">ğŸ‘¤</span> 
                        <div>
                            <div style="font-weight: bold;" id="dropdownUsername">KullanÄ±cÄ±</div>
                            <div style="font-size: 12px; opacity: 0.7;" id="dropdownEmail">email</div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item" id="editProfileBtn" role="menuitem">
                        <span aria-hidden="true">âœï¸</span> Profili DÃ¼zenle
                    </button>
                    <div class="dropdown-divider"></div>
                    <!-- Admin Panel Button - Only visible for admins -->
                    <button class="dropdown-item admin-only" id="adminPanelBtn" style="display: none;" role="menuitem">
                        <span aria-hidden="true">ğŸ‘¨â€ğŸ’¼</span> Admin Paneli
                    </button>
                    <div class="dropdown-divider admin-only" style="display: none;"></div>
                    <div class="dropdown-item" id="themeToggleItem">
                        <span aria-hidden="true">ğŸŒ“</span> 
                        <div class="theme-toggle">
                            <span id="themeLabel">Dark Mode</span>
                            <div class="toggle-switch" id="themeToggle" role="switch" aria-checked="false" tabindex="0">
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item logout-item" id="logoutBtn" role="menuitem">
                        <span aria-hidden="true">ğŸšª</span> Ã‡Ä±kÄ±ÅŸ Yap
                    </button>
                </div>
            </div>

            <div class="header-right">
                <button class="leaderboard-btn" id="leaderboardBtn" aria-label="Liderlik tablosu">
                    ğŸ† Liderlik
                </button>
                <button class="market-btn" id="marketBtn" aria-label="Market">
                    ğŸ›’ Market
                </button>
                <div class="score-section" aria-label="PuanÄ±nÄ±z">
                    <span aria-hidden="true">ğŸ’</span>
                    <div>
                        <div class="score-label">PuanÄ±n</div>
                        <div class="score-value" id="userScore">0</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content with Chat Sidebar -->
        <main class="main-layout">
            <!-- Main Content -->
            <section class="main-content" aria-label="Oyunlar">
                <h1 class="section-title">ğŸ® Oyunlar</h1>
                
                <!-- Games Grid -->
                <div class="games-grid">
                    <div class="game-card" id="spinWheelCard" role="button" tabindex="0" aria-label="Ã‡arkÄ±felek oyunu">
                        <div class="game-icon" aria-hidden="true">ğŸ¡</div>
                        <div class="game-title">Ã‡arkÄ±felek</div>
                        <div class="game-desc">ÅansÄ±nÄ± dene, bÃ¼yÃ¼k Ã¶dÃ¼ller kazan!</div>
                        <div class="game-play-btn">Oyna</div>
                    </div>
                    
                    <div class="game-card" id="chessCard" role="button" tabindex="0" aria-label="SatranÃ§ oyunu">
                        <div class="game-icon" aria-hidden="true">â™Ÿï¸</div>
                        <div class="game-title">SatranÃ§</div>
                        <div class="game-desc">Strateji oyunu oyna, kazanÃ§ kat!</div>
                        <div class="game-play-btn">Oyna</div>
                    </div>
                    
                    <div class="game-card" id="coinFlipCard" role="button" tabindex="0" aria-label="YazÄ± Tura oyunu">
                        <div class="game-icon" aria-hidden="true">ğŸª™</div>
                        <div class="game-title">YazÄ± Tura</div>
                        <div class="game-desc">Basit ama heyecanlÄ±, hÄ±zlÄ± kazan!</div>
                        <div class="game-play-btn">Oyna</div>
                    </div>
                    
                    <div class="game-card" id="rpsCard" role="button" tabindex="0" aria-label="TaÅŸ-KaÄŸÄ±t-Makas oyunu">
                        <div class="game-icon" aria-hidden="true">âœŠ</div>
                        <div class="game-title">TaÅŸ-KaÄŸÄ±t-Makas</div>
                        <div class="game-desc">Klasik oyun, modern kazanÃ§!</div>
                        <div class="game-play-btn">Oyna</div>
                    </div>
                </div>

                <!-- Ad Section -->
                <section class="ad-section" id="adSection" aria-label="Reklam izleme">
                    <div class="ad-title">ğŸ“º Reklam Ä°zle & Puan Kazan</div>
                    <button class="ad-button" id="watchAdBtn" aria-label="Reklam izle">+50 Puan Kazan</button>
                    <div class="ad-cooldown" id="adCooldown" style="display: none;">
                        Sonraki reklam: <span id="adTimer">0</span>
                    </div>
                </section>
            </section>

            <!-- Chat Sidebar -->
            <aside class="chat-sidebar" id="chatSidebar" aria-label="Chat bÃ¶lÃ¼mÃ¼">
                <div class="chat-header">
                    <div class="chat-title">ğŸ’¬ <span id="chatHeaderTitle">Global Chat</span></div>
                    <div class="chat-header-buttons">
                        <button class="chat-dm-btn" id="chatDmBtn" title="Ã–zel Mesajlar" aria-label="Ã–zel mesajlar">ğŸ“©</button>
                        <button class="chat-toggle-mobile" id="chatToggleMobile" aria-label="Chat'i aÃ§/kapat">â–¼</button>
                    </div>
                </div>
                <div class="chat-content">
                    <!-- Tab Buttons -->
                    <div class="chat-tabs" role="tablist">
                        <button class="chat-tab-btn active" data-tab="global" role="tab" aria-selected="true" aria-controls="globalChatTab">Global</button>
                        <button class="chat-tab-btn" data-tab="dm" role="tab" aria-selected="false" aria-controls="dmChatTab">DM</button>
                    </div>

                    <!-- Global Chat Tab -->
                    <div class="chat-tab-content active" id="globalChatTab" role="tabpanel" aria-labelledby="globalTab">
                        <div class="chat-messages" id="chatMessages" role="log" aria-live="polite">
                            <div class="chat-welcome">Global chat'e hoÅŸ geldin! ğŸ®</div>
                        </div>
                        <div class="chat-load-more" id="chatLoadMore" style="display: none;">
                            <button class="load-more-btn" id="loadMoreBtn">Daha Fazla YÃ¼kle</button>
                        </div>
                        <div class="chat-input-container">
                            <input type="text" class="chat-input" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n..." id="chatInput" maxlength="200" aria-label="Chat mesajÄ±">
                            <button class="chat-send" id="chatSend" aria-label="Mesaj gÃ¶nder">ğŸ“¤</button>
                        </div>
                    </div>

                    <!-- DM Chat Tab -->
                    <div class="chat-tab-content" id="dmChatTab" role="tabpanel" aria-labelledby="dmTab" hidden>
                        <div class="dm-user-list" id="dmUserList">
                            <div class="chat-welcome">KullanÄ±cÄ±larÄ± yÃ¼kleniyor...</div>
                        </div>
                        <div class="dm-conversation" id="dmConversation" style="display: none;">
                            <div class="dm-header">
                                <button class="dm-back-btn" id="dmBackBtn" aria-label="Geri dÃ¶n">â† Geri</button>
                                <div class="dm-user-name" id="dmUserName">KullanÄ±cÄ±</div>
                            </div>
                            <div class="chat-messages" id="dmMessages" role="log" aria-live="polite"></div>
                            <div class="chat-input-container">
                                <input type="text" class="chat-input" placeholder="Ã–zel mesajÄ±nÄ±zÄ± yazÄ±n..." id="dmInput" maxlength="200" aria-label="Ã–zel mesaj">
                                <button class="chat-send" id="dmSend" aria-label="Mesaj gÃ¶nder">ğŸ“¤</button>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </main>
    </div>

    <!-- All modals remain the same but with ARIA labels added -->
    <!-- ... (modals same as before but with aria-label attributes) ... -->

    <!-- Firebase SDK -->
    <script type="module" src="app.js"></script>
    <noscript>
        <div class="noscript-warning">
            Bu uygulama JavaScript gerektirir. LÃ¼tfen tarayÄ±cÄ±nÄ±zda JavaScript'i etkinleÅŸtirin.
        </div>
    </noscript>
</body>
</html>
