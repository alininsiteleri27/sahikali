<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEXUS | Future of Gaming</title>

    <!-- Fonts: Inter & Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Outfit:wght@300;400;500;600;700;900&display=swap"
        rel="stylesheet">

    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">

    <meta name="theme-color" content="#050505">
</head>

<body>
    <!-- DYNAMIC BACKGROUND -->
    <canvas id="bg-canvas"></canvas>

    <!-- ======================= -->
    <!-- AUDIO SYSTEM            -->
    <!-- ======================= -->
    <div id="audio-assets" hidden>
        <audio id="sfx-click"
            src="https://assets.mixkit.co/sfx/preview/mixkit-modern-technology-select-3124.mp3"></audio>
        <audio id="sfx-hover" src="https://assets.mixkit.co/sfx/preview/mixkit-simple-game-menu-pop-273.mp3"></audio>
        <audio id="sfx-success" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3"></audio>
        <audio id="sfx-error"
            src="https://assets.mixkit.co/sfx/preview/mixkit-negative-tone-interface-tap-2552.mp3"></audio>
        <audio id="sfx-msg" src="https://assets.mixkit.co/sfx/preview/mixkit-message-pop-alert-2354.mp3"></audio>
    </div>

    <!-- ======================= -->
    <!-- OVERLAYS (Loaders, etc) -->
    <!-- ======================= -->
    <div id="app-loader">
        <div class="loader-visual">
            <div class="glow-ring"></div>
            <div class="logo-text">NEXUS</div>
        </div>
        <div class="loader-bar">
            <div class="bar-fill"></div>
        </div>
        <div class="loader-status">Sistem Y√ºkleniyor...</div>
    </div>

    <div id="toast-container"></div>

    <!-- ======================= -->
    <!-- AUTH SCREEN             -->
    <!-- ======================= -->
    <section id="auth-screen" class="screen">
        <div class="auth-bg-layer">
            <div class="blob blob-1"></div>
            <div class="blob blob-2"></div>
        </div>

        <div class="auth-container glass">
            <div class="auth-header">
                <h1>NEXUS</h1>
                <p>Yeni Nesil Oyun & Sohbet Platformu</p>
            </div>

            <div class="auth-switcher">
                <button class="switch-btn active" data-target="login">Giri≈ü Yap</button>
                <button class="switch-btn" data-target="register">Kayƒ±t Ol</button>
            </div>

            <div class="auth-forms-wrapper">
                <!-- LOGIN -->
                <form id="form-login" class="auth-form active">
                    <div class="inp-group">
                        <i class="ri-mail-line"></i>
                        <input type="email" id="login-email" placeholder="E-posta Adresi" required>
                    </div>
                    <div class="inp-group">
                        <i class="ri-lock-2-line"></i>
                        <input type="password" id="login-pass" placeholder="≈ûifre" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block btn-glow">
                        <span>Gƒ∞Rƒ∞≈û YAP</span>
                        <i class="ri-arrow-right-line"></i>
                    </button>
                </form>

                <!-- REGISTER -->
                <form id="form-register" class="auth-form">
                    <div class="inp-group">
                        <i class="ri-user-3-line"></i>
                        <input type="text" id="reg-user" placeholder="Kullanƒ±cƒ± Adƒ±" required maxlength="15">
                    </div>
                    <div class="inp-group">
                        <i class="ri-mail-line"></i>
                        <input type="email" id="reg-email" placeholder="E-posta Adresi" required>
                    </div>
                    <div class="inp-group">
                        <i class="ri-lock-2-line"></i>
                        <input type="password" id="reg-pass" placeholder="≈ûifre (Min 6)" required minlength="6">
                    </div>
                    <button type="submit" class="btn btn-secondary btn-block">
                        <span>HESAP OLU≈ûTUR</span>
                        <i class="ri-user-add-line"></i>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- ======================= -->
    <!-- MAIN APPLICATION        -->
    <!-- ======================= -->
    <div id="app-structure" class="hidden">

        <!-- DESKTOP NAV (Top Bar) -->
        <header class="app-header glass">
            <div class="header-logo">
                <div class="logo-icon">N</div>
                <span class="logo-text">NEXUS</span>
                <span id="role-badge" class="badge-role member">√úYE</span>
            </div>

            <nav class="desktop-nav">
                <button class="nav-btn active" onclick="app.router.go('home')">
                    <i class="ri-home-4-line"></i> Ana Sayfa
                </button>
                <button class="nav-btn" onclick="app.router.go('games')">
                    <i class="ri-gamepad-line"></i> Oyunlar
                </button>
                <button class="nav-btn" onclick="app.router.go('chat')">
                    <i class="ri-chat-3-line"></i> Global Chat
                </button>
                <button class="nav-btn" onclick="app.router.go('notifications')">
                    <i class="ri-notification-3-line"></i> Bildirimler
                    <span class="badge-count hidden" id="notif-count">0</span>
                </button>
            </nav>

            <div class="header-profile" onclick="app.router.go('profile')">
                <div class="xp-bar-mini">
                    <div class="bar-fill" style="width: 45%"></div>
                </div>
                <span class="u-name" id="header-username">...</span>
                <img src="" id="header-avatar" class="u-avatar">
            </div>
        </header>

        <!-- MAIN CANVAS -->
        <main class="app-content">

            <!-- PAGE: HOME -->
            <section id="view-home" class="view active">
                <div class="container">
                    <!-- Welcome Hero -->
                    <div class="hero-card glass neon-shadow">
                        <div class="hero-txt">
                            <h1>Ho≈ü Geldin, <span id="home-user" class="neon-text-blue">Oyuncu</span>!</h1>
                            <p>Platform ≈üu an capcanlƒ±. Hemen bir oyuna gir ya da sohbete katƒ±l.</p>
                            <div class="hero-stats">
                                <div class="stat-pill"><i class="ri-user-voice-line"></i> <span
                                        id="online-count">0</span> Online</div>
                                <div class="stat-pill"><i class="ri-trophy-line"></i> Sƒ±ralaman: <span
                                        id="my-rank">#--</span></div>
                            </div>
                        </div>
                        <div class="daily-reward-box">
                            <h3>üéÅ G√ºnl√ºk √ñd√ºl</h3>
                            <button class="btn btn-sm btn-gold" id="btn-claim-reward" onclick="app.game.claimDaily()">
                                Topla (+50 XP)
                            </button>
                        </div>
                    </div>

                    <!-- Layout Grid -->
                    <div class="home-grid">
                        <!-- Left: Games Teaser -->
                        <div class="card-section">
                            <div class="sec-header">
                                <h2>üî• Pop√ºler Oyunlar</h2>
                                <a onclick="app.router.go('games')">T√ºm√ºn√º G√∂r</a>
                            </div>
                            <div class="games-row">
                                <div class="game-mini-card" onclick="app.game.launch('chess')">
                                    <div class="g-icon">‚ôüÔ∏è</div>
                                    <span>Satran√ß</span>
                                </div>
                                <div class="game-mini-card" onclick="app.game.launch('mines')">
                                    <div class="g-icon">üí£</div>
                                    <span>Mayƒ±nlar</span>
                                </div>
                                <div class="game-mini-card" onclick="app.game.launch('rps')">
                                    <div class="g-icon">‚úÇÔ∏è</div>
                                    <span>Ta≈ü-Kaƒüƒ±t</span>
                                </div>
                            </div>
                        </div>

                        <!-- Right: Chat Teaser -->
                        <div class="card-section chat-preview-card glass">
                            <div class="sec-header">
                                <h2>üí¨ Canlƒ± Sohbet</h2>
                                <a onclick="app.router.go('chat')">Katƒ±l</a>
                            </div>
                            <div class="mini-chat-stream" id="mini-chat-stream">
                                <!-- JS inserts lines here -->
                                <div class="mini-msg system">Sohbet y√ºkleniyor...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Leaderboard Teaser -->
                    <div class="card-section glass" style="margin-top: 20px;">
                        <h2 class="sec-header-title">üèÜ G√ºn√ºn Liderleri</h2>
                        <div class="leaderboard-strip" id="home-leaderboard">
                            <!-- JS inserts items -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- PAGE: GAMES -->
            <section id="view-games" class="view">
                <div class="container">
                    <h1 class="page-title">Oyun Merkezi</h1>
                    <div class="games-grid-main">
                        <!-- Cards injected by JS or static -->
                        <div class="game-card glass" onclick="app.game.launch('chess')">
                            <div class="gc-image" style="background: linear-gradient(45deg, #111, #333);">‚ôüÔ∏è</div>
                            <div class="gc-info">
                                <h3>Satran√ß</h3>
                                <p>Strateji ve zeka oyunu.</p>
                                <button class="btn btn-play">OYNA</button>
                            </div>
                        </div>
                        <div class="game-card glass" onclick="app.game.launch('tetris')">
                            <div class="gc-image" style="background: linear-gradient(45deg, #2b0057, #7000ff);">üß©</div>
                            <div class="gc-info">
                                <h3>Tetris</h3>
                                <p>Bloklarƒ± yerle≈ütir, puanlarƒ± topla.</p>
                                <button class="btn btn-play">OYNA</button>
                            </div>
                        </div>
                        <div class="game-card glass" onclick="app.game.launch('mines')">
                            <div class="gc-image" style="background: linear-gradient(45deg, #240000, #ff0055);">üí£</div>
                            <div class="gc-info">
                                <h3>Mayƒ±n Tarlasƒ±</h3>
                                <p>Mayƒ±nlara dikkat et!</p>
                                <button class="btn btn-play">OYNA</button>
                            </div>
                        </div>
                        <div class="game-card glass" onclick="app.game.launch('rps')">
                            <div class="gc-image" style="background: linear-gradient(45deg, #002b1d, #00ff9d);">ü§ú</div>
                            <div class="gc-info">
                                <h3>RPS</h3>
                                <p>Ta≈ü, Kaƒüƒ±t, Makas d√ºellosu.</p>
                                <button class="btn btn-play">OYNA</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PAGE: CHAT (GLOBAL + DM) -->
            <section id="view-chat" class="view">
                <div class="chat-layout">
                    <!-- Chat Sidebar (DM List) -->
                    <aside class="chat-sidebar glass">
                        <div class="cs-header">
                            <button class="btn-tab active" onclick="app.chat.switchTab('global')">Global</button>
                            <button class="btn-tab" onclick="app.chat.switchTab('dm')">DM</button>
                        </div>
                        <div class="cs-list" id="chat-people-list">
                            <!-- Users list for DM -->
                            <div class="empty-state">Y√ºkleniyor...</div>
                        </div>
                    </aside>

                    <!-- Chat Area -->
                    <div class="chat-main glass">
                        <div class="cm-header">
                            <div class="cm-info">
                                <h3 id="chat-active-title">Global Chat</h3>
                                <span class="status-dot"></span>
                            </div>
                            <div class="cm-actions">
                                <!-- Admin Tools will appear here -->
                                <button class="btn-icon hidden" id="chat-admin-clear" title="Temizle"><i
                                        class="ri-delete-bin-line"></i></button>
                                <button class="btn-icon hidden" id="chat-admin-lock" title="Kilitle"><i
                                        class="ri-lock-line"></i></button>
                            </div>
                        </div>

                        <div class="cm-messages" id="chat-feed">
                            <!-- Msgs -->
                        </div>

                        <form class="cm-input" id="chat-form">
                            <input type="text" id="msg-input" placeholder="Mesajƒ±nƒ± yaz..." autocomplete="off">
                            <button type="submit" class="btn-send"><i class="ri-send-plane-fill"></i></button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- PAGE: NOTIFICATIONS -->
            <section id="view-notifications" class="view">
                <div class="container container-sm">
                    <h1 class="page-title">Bildirimler</h1>
                    <div class="notif-list" id="notif-list">
                        <div class="notif-item glass">
                            <div class="icon-box info"><i class="ri-information-line"></i></div>
                            <div class="notif-content">
                                <h4>Ho≈ü Geldiniz</h4>
                                <p>Nexus platformuna kayƒ±t oldunuz. ƒ∞yi eƒülenceler!</p>
                                <span class="time">≈ûimdi</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- PAGE: PROFILE -->
            <section id="view-profile" class="view">
                <div class="container">
                    <div class="profile-hero glass neon-border">
                        <div class="p-avatar-area">
                            <img src="" id="p-avatar" class="pro-avatar">
                            <div class="p-badge" id="p-role-badge">√úYE</div>
                        </div>
                        <div class="p-info">
                            <h2 id="p-username">Kullanƒ±cƒ±</h2>
                            <p class="p-bio">Nexus √úyesi</p>

                            <div class="level-container">
                                <div class="lvl-txt">
                                    <span>Seviye <b id="p-lvl">1</b></span>
                                    <span><span id="p-xp">0</span> / 1000 XP</span>
                                </div>
                                <div class="big-progress">
                                    <div class="fill" id="p-xp-fill" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                        <div class="p-stats">
                            <div class="stat-box">
                                <h3>Puan</h3>
                                <span class="val color-gold" id="p-points">0</span>
                            </div>
                            <div class="stat-box">
                                <h3>Oyun</h3>
                                <span class="val" id="p-games">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="profile-actions" style="margin-top: 20px;">
                        <button class="btn btn-warning btn-block" onclick="app.auth.logout()">
                            <i class="ri-logout-box-r-line"></i> √áƒ±kƒ±≈ü Yap
                        </button>
                    </div>

                    <!-- ADMIN PANEL (Conditional) -->
                    <div id="admin-panel" class="admin-dashboard glass hidden">
                        <div class="adm-header">
                            <h2>üõ°Ô∏è Y√ñNETƒ∞M PANELƒ∞</h2>
                        </div>
                        <div class="adm-grid">
                            <div class="adm-card">
                                <h3>Kullanƒ±cƒ± Y√∂netimi</h3>
                                <input type="text" id="adm-user-id" placeholder="Kullanƒ±cƒ± ID / Email">
                                <div class="adm-btns">
                                    <button class="btn btn-sm btn-danger" onclick="app.admin.banUser()">BANLA</button>
                                    <button class="btn btn-sm btn-gold" onclick="app.admin.muteUser()">SUSTUR</button>
                                </div>
                            </div>
                            <div class="adm-card">
                                <h3>Duyuru Sistemi</h3>
                                <textarea id="adm-announce-txt" placeholder="Duyuru metni..."></textarea>
                                <button class="btn btn-sm btn-primary" onclick="app.admin.announce()">HERKESE
                                    G√ñNDER</button>
                            </div>
                            <!-- FOUNDER EXTRA -->
                            <div class="adm-card founder-only hidden" id="founder-controls">
                                <h3 style="color:var(--c-accent);">KURUCU √ñZEL</h3>
                                <button class="btn btn-sm btn-danger" onclick="app.admin.nukeChat()">Sohbeti
                                    Sƒ±fƒ±rla</button>
                                <button class="btn btn-sm btn-success" onclick="app.admin.addMoneyAll()">Herkese +1000
                                    Puan</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- MOBILE NAV (Bottom Bar) -->
        <nav class="mobile-nav glass">
            <a onclick="app.router.go('home')" class="mob-link active" data-target="home">
                <i class="ri-home-4-line"></i>
            </a>
            <a onclick="app.router.go('games')" class="mob-link" data-target="games">
                <i class="ri-gamepad-line"></i>
            </a>
            <div class="mob-fab" onclick="app.router.go('chat')">
                <i class="ri-chat-3-fill"></i>
            </div>
            <a onclick="app.router.go('notifications')" class="mob-link" data-target="notifications">
                <i class="ri-notification-3-line"></i>
            </a>
            <a onclick="app.router.go('profile')" class="mob-link" data-target="profile">
                <i class="ri-user-3-line"></i>
            </a>
        </nav>

    </div>

    <!-- GAME OVERLAY -->
    <div id="game-overlay" class="hidden">
        <div class="game-header">
            <span id="active-game-title">Oyun</span>
            <button class="btn-close-game" onclick="app.game.close()">‚úï</button>
        </div>
        <div class="game-frame" id="game-frame">
            <!-- Game Canvas Inject Here -->
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>

</html>
