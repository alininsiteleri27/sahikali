<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEXUS | Ultimate Game Platform</title>
    <!-- Favicon: Using a gamepad emoji as data URI to prevent 404s -->
    <link rel="icon" href="https://ui-avatars.com/api/?name=NX&background=00f2ff&color=fff&rounded=true"
        type="image/x-icon">

    <meta name="description"
        content="D√ºnyanƒ±n en geli≈ümi≈ü ger√ßek zamanlƒ± topluluk ve oyun platformu. Arkada≈ülarƒ±nƒ±zla oyun oynayƒ±n, sohbet edin ve r√ºtbenizi y√ºkseltin.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Rajdhani:wght@500;600;700&display=swap"
        rel="stylesheet">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="style.css">

    <!-- SEO & Metadata -->
    <meta name="theme-color" content="#0a0a0a">
    <meta property="og:title" content="NEXUS Platform">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Sƒ±nƒ±rlarƒ± zorlayan oyun ve sohbet deneyimi.">
</head>

<body>

    <!-- ========================================== -->
    <!-- AUDIO ASSETS (System Sounds)               -->
    <!-- ========================================== -->
    <div id="audio-assets" style="display: none;">
        <!-- Sounds will be loaded via JS audio context for performance and control -->
        <audio id="sound-click" src="" preload="auto"></audio>
        <audio id="sound-notification" src="" preload="auto"></audio>
        <audio id="sound-error" src="" preload="auto"></audio>
        <audio id="sound-success" src="" preload="auto"></audio>
    </div>

    <!-- ========================================== -->
    <!-- GLOBAL OVERLAYS (Loaders, Toasts, etc.)    -->
    <!-- ========================================== -->

    <!-- Initial App Loader -->
    <div id="app-loader" class="loader-container active">
        <div class="loader-content">
            <div class="neon-logo-loader">
                <div class="ring"></div>
                <div class="logo-text">NEXUS</div>
            </div>
            <div class="loading-bar-container">
                <div class="loading-bar" id="initial-load-bar"></div>
            </div>
            <p class="loading-status" id="loading-text">Sistem Ba≈ülatƒ±lƒ±yor...</p>
        </div>
    </div>

    <!-- Toast Notification Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Global Connection Status -->
    <div id="connection-status" class="connection-status hidden">
        <span class="status-dot"></span>
        <span class="status-text">Baƒülantƒ± Kesildi</span>
    </div>

    <!-- ========================================== -->
    <!-- BACKGROUND & ATMOSPHERE                    -->
    <!-- ========================================== -->
    <div class="app-background">
        <div class="bg-shape shape-1"></div>
        <div class="bg-shape shape-2"></div>
        <div class="bg-shape shape-3"></div>
        <div class="grid-overlay"></div>
    </div>

    <!-- ========================================== -->
    <!-- AUTHENTICATION MODULE                      -->
    <!-- ========================================== -->
    <section id="auth-module" class="module hidden">
        <div class="auth-wrapper">
            <!-- Left Side: Visuals -->
            <div class="auth-visual">
                <div class="visual-content">
                    <h1 class="brand-title">NEXUS</h1>
                    <p class="brand-slogan">Geleceƒüin Topluluƒüuna Ho≈ü Geldiniz</p>
                    <div class="visual-cards">
                        <div class="v-card glass-panel">
                            <div class="icon-box">üéÆ</div>
                            <span>Oyunlar</span>
                        </div>
                        <div class="v-card glass-panel">
                            <div class="icon-box">üí¨</div>
                            <span>Sohbet</span>
                        </div>
                        <div class="v-card glass-panel">
                            <div class="icon-box">üèÜ</div>
                            <span>Sƒ±ralama</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Side: Forms -->
            <div class="auth-forms glass-panel">

                <!-- Navigation Tabs -->
                <div class="auth-tabs">
                    <button class="auth-tab active" data-target="login-form">Giri≈ü Yap</button>
                    <button class="auth-tab" data-target="register-form">Kayƒ±t Ol</button>
                </div>

                <!-- LOGIN FORM -->
                <form id="login-form" class="auth-form active">
                    <div class="input-group">
                        <label for="login-email">E-posta Adresi</label>
                        <div class="input-wrapper">
                            <input type="email" id="login-email" placeholder="ornek@nexus.com" required
                                autocomplete="email">
                            <span class="input-icon">‚úâÔ∏è</span>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="login-password">≈ûifre</label>
                        <div class="input-wrapper">
                            <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required
                                autocomplete="current-password">
                            <span class="input-icon">üîí</span>
                        </div>
                    </div>
                    <div class="form-actions">
                        <label class="checkbox-container">
                            <input type="checkbox" id="remember-me">
                            <span class="checkmark"></span>
                            Beni Hatƒ±rla
                        </label>
                        <a href="#" class="forgot-pass" id="forgot-password-link">≈ûifremi Unuttum?</a>
                    </div>
                    <button type="submit" class="btn btn-primary btn-block btn-lg btn-glow">
                        <span class="btn-text">Sisteme Gir</span>
                        <div class="btn-loader hidden"></div>
                    </button>
                </form>

                <!-- REGISTER FORM -->
                <form id="register-form" class="auth-form">
                    <div class="input-group">
                        <label for="reg-username">Kullanƒ±cƒ± Adƒ±</label>
                        <div class="input-wrapper">
                            <input type="text" id="reg-username" placeholder="Kullanƒ±cƒ± adƒ± se√ßin" required
                                minlength="3" maxlength="15">
                            <span class="input-icon">üë§</span>
                        </div>
                        <small class="hint">3-15 karakter, √∂zel karakter yok.</small>
                    </div>
                    <div class="input-group">
                        <label for="reg-email">E-posta Adresi</label>
                        <div class="input-wrapper">
                            <input type="email" id="reg-email" placeholder="Gecerli bir e-posta" required>
                            <span class="input-icon">‚úâÔ∏è</span>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="reg-password">≈ûifre</label>
                        <div class="input-wrapper">
                            <input type="password" id="reg-password" placeholder="G√º√ßl√º bir ≈üifre" required
                                minlength="6">
                            <span class="input-icon">üîë</span>
                        </div>
                    </div>
                    <div class="input-group">
                        <label for="reg-password-confirm">≈ûifre Tekrar</label>
                        <div class="input-wrapper">
                            <input type="password" id="reg-password-confirm" placeholder="≈ûifreyi doƒürulayƒ±n" required>
                            <span class="input-icon">‚úÖ</span>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-secondary btn-block btn-lg">
                        <span class="btn-text">Hesap Olu≈ütur</span>
                        <div class="btn-loader hidden"></div>
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- ========================================== -->
    <!-- MAIN APPLICATION CONTAINER (3-COLUMN LAYOUT) -->
    <!-- ========================================== -->
    <div id="app-container" class="app-layout hidden">

        <!-- 1. LEFT SIDEBAR -->
        <nav id="sidebar" class="sidebar glass-panel">
            <div class="sidebar-header" onclick="window.router.navigate('settings')" style="cursor: pointer;"
                title="Profil Ayarlarƒ±">
                <div class="user-profile-widget">
                    <img src="https://ui-avatars.com/api/?name=User" id="user-avatar-img" class="sidebar-avatar">
                    <div class="user-text">
                        <span class="u-name" id="user-name">Y√ºkleniyor...</span>
                        <span class="u-role" id="user-role-badge">...</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-content">
                <div class="nav-section">
                    <h4 class="nav-title">MEN√ú</h4>
                    <ul class="nav-list">
                        <li class="nav-item active" data-view="dashboard">
                            <a href="#" class="nav-link">
                                <span class="nav-icon">üè†</span> <span>Ana Sayfa</span>
                            </a>
                        </li>
                        <li class="nav-item" data-view="games">
                            <a href="#" class="nav-link">
                                <span class="nav-icon">üéÆ</span> <span>Oyunlar</span>
                            </a>
                        </li>
                        <li class="nav-item" data-view="market">
                            <a href="#" class="nav-link">
                                <span class="nav-icon">üõí</span> <span>Market</span>
                            </a>
                        </li>
                        <li class="nav-item" data-view="clan">
                            <a href="#" class="nav-link">
                                <span class="nav-icon">üõ°Ô∏è</span> <span>Klanƒ±m</span>
                            </a>
                        </li>
                        <li class="nav-item" data-view="leaderboard">
                            <a href="#" class="nav-link">
                                <span class="nav-icon">üèÜ</span> <span>Sƒ±ralama</span>
                            </a>
                        </li>
                        <li class="nav-item" data-view="messages">
                            <a href="#" class="nav-link">
                                <span class="nav-icon">üí¨</span> <span>Mesajlar</span>
                                <span class="badge hidden" id="dm-badge"></span>
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section admin-section hidden" id="admin-nav-section">
                    <h4 class="nav-title">Y√ñNETƒ∞M</h4>
                    <ul class="nav-list">
                        <li class="nav-item" data-view="admin">
                            <a href="#" class="nav-link nav-link-admin">
                                <span class="nav-icon">‚öôÔ∏è</span> <span>Panel</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="sidebar-footer">
                <button id="logout-btn" class="logout-btn">
                    <span class="icon">üö™</span> √áƒ±kƒ±≈ü Yap
                </button>
            </div>
        </nav>

        <!-- 2. MAIN CONTENT AREA -->
        <main class="main-content">
            <!-- Top Header -->
            <header class="top-header glass-panel">
                <div class="header-left">
                    <h2 id="page-title">Ana Sayfa</h2>
                </div>
                <div class="header-right">
                    <div class="economy-pill">
                        <span class="icon">üí†</span>
                        <span id="user-points">0</span>
                    </div>
                </div>
            </header>

            <!-- Dynamic Views -->
            <div id="views-container" class="views-wrapper">

                <!-- DASHBOARD VIEW -->
                <section id="view-dashboard" class="view active-view">
                    <div class="hero-banner glass-panel">
                        <h1>Ho≈ü Geldin, <span id="dash-username" class="highlight">Oyuncu</span>!</h1>
                        <p>Bug√ºn Nexus d√ºnyasƒ±nda neler yapmak istersin?</p>
                        <div class="hero-btns">
                            <button class="btn btn-primary" onclick="window.router.navigate('games')">Oyun Oyna</button>
                            <button class="btn btn-glass" onclick="window.router.navigate('market')">Market</button>
                        </div>
                    </div>

                    <div class="stats-grid-simple">
                        <div class="stat-box">
                            <span class="lbl">Sƒ±ralama</span>
                            <span class="val" id="dash-rank">#--</span>
                        </div>
                        <div class="stat-box">
                            <span class="lbl">Oyunlar</span>
                            <span class="val" id="dash-games-played">0</span>
                        </div>
                    </div>
                </section>

                <!-- GAMES HUB VIEW -->
                <section id="view-games" class="view">
                    <div class="games-grid">

                        <div class="admin-card glass-panel">
                            <h3>Oyun Kontrol√º</h3>
                            <div class="switch-list">
                                <label class="switch-wrapper">
                                    <span>Satran√ß</span>
                                    <input type="checkbox" checked
                                        onchange="window.adminSystem.toggleGame('chess', this.checked)">
                                    <span class="slider"></span>
                                </label>
                                <label class="switch-wrapper">
                                    <span>2048</span>
                                    <input type="checkbox" checked
                                        onchange="window.adminSystem.toggleGame('2048', this.checked)">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="admin-card glass-panel large-widget" style="grid-column: span 2;">
                        <h3>Canlƒ± Sistem Loglarƒ±</h3>
                        <div class="admin-logs-console" id="admin-logs">
                            <div class="log-entry"><span class="log-time">[SYSTEM]</span> Admin paneli y√ºklendi...</div>
                        </div>
                    </div>
            </div>
    </div>
    </section>

    <!-- VIEW: MARKETPLACE -->
    <section id="view-market" class="view">
        <div class="market-header glass-panel">
            <h2>E≈üya Maƒüazasƒ±</h2>
            <p>Puanlarƒ±nƒ±zla avatar √ßer√ßeveleri ve √∂zel renkler alƒ±n.</p>
        </div>
        <div class="market-grid" id="market-items-grid">
            <!-- Items will be injected here -->
        </div>
    </section>

    <!-- VIEW: LEADERBOARD -->
    <section id="view-leaderboard" class="view">
        <div class="leaderboard-container glass-panel">
            <h2>En ƒ∞yiler</h2>
            <div class="leaderboard-table-wrapper">
                <table class="nexus-table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Oyuncu</th>
                            <th>Kazanma</th>
                            <th>Puan</th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-body">
                        <!-- Rows injected via JS -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    </div> <!-- End Views Container -->

    </main>
    </div>

    <!-- ========================================== -->
    <!-- GAME OVERLAY CONTAINERS (Full Screen)      -->
    <!-- ========================================== -->
    <div id="game-overlay-container" class="game-overlay-wrapper hidden">
        <button class="close-game-btn" onclick="window.gameSystem.closeActiveGame()">‚úï OYUNDAN √áIK</button>

        <!-- Game Canvas Areas -->
        <div id="game-stage-chess" class="game-stage hidden">
            <!-- Chess DOM board or Canvas will go here -->
            <div id="chess-board"></div>
            <div id="chess-ui"></div>
        </div>

        <div id="game-stage-2048" class="game-stage hidden">
            <div class="game-2048-container">
                <div class="game-message">
                    <p></p>
                    <div class="lower">
                        <a class="keep-playing-button">Keep playing</a>
                        <a class="retry-button">Try again</a>
                    </div>
                </div>
                <div class="grid-container">
                    <div class="grid-row">
                        <div class="grid-cell"></div>
                        <div class="grid-cell"></div>
                        <div class="grid-cell"></div>
                        <div class="grid-cell"></div>
                        <div class="tile-container" id="tile-container"></div>
                    </div>
                </div>

                <!-- WHEEL -->
                <div id="game-stage-wheel" class="game-stage hidden">
                    <div class="wheel-wrapper">
                        <canvas id="wheel-canvas" width="500" height="500"></canvas>
                        <div class="wheel-pointer">‚ñº</div>
                        <button id="spin-btn" class="btn btn-gold btn-lg">√áEVƒ∞R</button>
                    </div>
                </div>

                <!-- RPS -->
                <div id="game-stage-rps" class="game-stage hidden">
                    <div class="rps-arena">
                        <div class="rps-hands">
                            <div class="hand" id="rps-player-hand">‚úä</div>
                            <div class="vs-text">VS</div>
                            <div class="hand" id="rps-cpu-hand">‚úä</div>
                        </div>
                        <div class="rps-controls">
                            <button class="rps-btn" data-choice="rock">‚úä TA≈û</button>
                            <button class="rps-btn" data-choice="paper">‚úã KAƒûIT</button>
                            <button class="rps-btn" data-choice="scissors">‚úåÔ∏è MAKAS</button>
                        </div>
                    </div>
                </div>

                <!-- COIN TOSS -->
                <div id="game-stage-coin" class="game-stage hidden">
                    <div class="coin-arena">
                        <div id="coin">
                            <div class="side-a"></div>
                            <div class="side-b"></div>
                        </div>
                        <div class="coin-controls">
                            <button class="btn btn-silver" onclick="window.gameSystem.flipCoin()">Parayƒ± At</button>
                        </div>
                    </div>
                </div>

                <!-- MINESWEEPER -->
                <div id="game-stage-mines" class="game-stage hidden">
                    <div class="mines-container glass-panel">
                        <div class="mines-header">
                            <h2>MAYIN TARLASI</h2>
                            <p>Risk: <span id="mines-risk-lvl">Y√ºksek</span> | √áarpan: <span
                                    id="mines-multiplier">x1.00</span></p>
                        </div>
                        <div class="mines-interface">
                            <div class="mines-sidebar">
                                <div class="input-group-game">
                                    <label>Bahis Miktarƒ±</label>
                                    <input type="number" id="mines-bet" class="game-input" value="100">
                                </div>
                                <div class="input-group-game">
                                    <label>Mayƒ±n Sayƒ±sƒ± (1-24)</label>
                                    <input type="number" id="mines-count" class="game-input" value="3" max="24" min="1">
                                </div>
                                <button id="mines-start-btn" class="btn btn-success btn-block btn-lg"
                                    onclick="window.gameSystem.instances.mines.startGame()">BA≈ûLAT</button>
                                <button class="btn btn-warning btn-block btn-lg" id="mines-cashout-btn" disabled
                                    onclick="window.gameSystem.instances.mines.cashOut()">NAKƒ∞T √áEK</button>

                                <div class="mines-history">
                                    <h4>Son Oyunlar</h4>
                                    <div class="history-list" id="mines-history-list"></div>
                                </div>
                            </div>
                            <div class="mines-board-area">
                                <div class="mines-grid" id="mines-grid"></div>
                                <div id="mines-status"
                                    style="margin-top: 15px; text-align: center; font-size: 1.2rem; font-weight: bold; color: var(--c-accent);">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TETRIS STAGE -->
            <div id="game-stage-tetris" class="game-stage hidden">
                <div class="tetris-wrapper">
                    <div class="tetris-left-panel">
                        <div class="tetris-hold glass-panel">
                            <h3>HOLD</h3>
                            <div id="tetris-hold-canvas"></div>
                        </div>
                        <div class="tetris-stats glass-panel">
                            <div class="t-stat"><label>SKOR</label><span id="tetris-score">0</span></div>
                            <div class="t-stat"><label>SEVƒ∞YE</label><span id="tetris-level">1</span></div>
                            <div class="t-stat"><label>SATIR</label><span id="tetris-lines">0</span></div>
                        </div>
                    </div>

                    <div class="tetris-main glass-panel">
                        <div class="tetris-grid" id="tetris-grid"></div>
                        <div class="tetris-overlay" id="tetris-msg-overlay">
                            <h2 id="tetris-msg-title">HAZIR?</h2>
                            <button class="btn btn-play"
                                onclick="window.gameSystem.instances.tetris.start()">BA≈ûLA</button>
                        </div>
                    </div>

                    <div class="tetris-right-panel">
                        <div class="tetris-next glass-panel">
                            <h3>SIRADAKƒ∞</h3>
                            <div id="tetris-next-render"></div>
                        </div>
                        <div class="tetris-controls-info glass-panel">
                            <h4>Kontroller</h4>
                            <ul>
                                <li>‚¨ÖÔ∏è ‚û°Ô∏è : Hareket</li>
                                <li>‚¨ÜÔ∏è : D√∂nd√ºr</li>
                                <li>‚¨áÔ∏è : Hƒ±zlƒ± ƒ∞ni≈ü</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CLAN SYSTEM MODALS -->
        <div id="clan-modal" class="custom-modal hidden">
            <div class="modal-content glass-panel large-modal">
                <div class="modal-header">
                    <h2>KLAN Y√ñNETƒ∞Mƒ∞</h2>
                    <button class="close-modal" onclick="window.clanSystem.closeModal()">‚úï</button>
                </div>
                <div class="modal-body" id="clan-modal-body"></div>
            </div>
        </div>

        <!-- GLOBAL MUSIC PLAYER -->
        <div id="nexus-music-player" class="music-player glass-panel collapsed">
            <div class="player-handle" onclick="window.musicSystem.toggle()">
                <span class="music-icon">üéµ</span>
                <div class="track-info-mini">
                    <span class="scrolling-text" id="music-track-name">Nexus Radio - Cyberpunk Mix 2077</span>
                </div>
                <button class="toggle-btn">‚ñ≤</button>
            </div>
            <div class="player-expanded">
                <div class="visualizer">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>
                <div class="player-controls">
                    <button class="ctrl-btn" onclick="window.musicSystem.prev()">‚èÆ</button>
                    <button class="ctrl-btn play-pause" onclick="window.musicSystem.playPause()"
                        id="music-play-btn">‚ñ∂</button>
                    <button class="ctrl-btn" onclick="window.musicSystem.next()">‚è≠</button>
                </div>
                <div class="volume-slider">
                    <input type="range" min="0" max="100" value="50"
                        onchange="window.musicSystem.setVolume(this.value)">
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- JAVASCRIPT IMPORTS                         -->
        <!-- ========================================== -->
        <!-- SweetAlert2 for nice alerts -->
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

        <!-- Main Application Logic -->
        <script type="module" src="app.js"></script>

</body>

</html>
