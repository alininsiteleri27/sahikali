<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nexus Gaming Network</title>
    <!-- Premium Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Rajdhani:wght@500;700;900&display=swap"
        rel="stylesheet">
    <!-- FontAwesome Pro (Simulated) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- LOADING SCREEN (Surprise Effect) -->
    <div id="boot-screen" class="boot-overlay">
        <div class="boot-logo">
            <i class="fa-brands fa-discord fa-beat-fade"></i>
            <div class="loader-bar"></div>
            <div class="boot-text">NEXUS SYSTEM INITIALIZING...</div>
        </div>
    </div>

    <!-- AUTH SCREEN -->
    <div id="auth-overlay" class="auth-wrapper">
        <div class="auth-card glass-morphism-3">
            <div class="auth-header">
                <h2>Hoş Geldin!</h2>
                <p>Seni tekrar aramızda görmek harika.</p>
            </div>
            <div id="auth-forms">
                <!-- Login -->
                <div id="login-form" class="auth-step active">
                    <div class="input-grp">
                        <label>E-POSTA</label>
                        <input type="email" id="loginEmail" autocomplete="off">
                    </div>
                    <div class="input-grp">
                        <label>ŞİFRE</label>
                        <input type="password" id="loginPassword">
                    </div>
                    <button id="loginButton" class="btn-discord">Giriş Yap</button>
                    <div class="auth-footer">
                        Hesabın yok mu? <span id="toRegister">Kaydol</span>
                    </div>
                </div>
                <!-- Register -->
                <div id="register-form" class="auth-step">
                    <div class="input-grp">
                        <label>KULLANICI ADI</label>
                        <input type="text" id="regUsername">
                    </div>
                    <div class="input-grp">
                        <label>E-POSTA</label>
                        <input type="email" id="regEmail">
                    </div>
                    <div class="input-grp">
                        <label>ŞİFRE</label>
                        <input type="password" id="regPassword">
                    </div>
                    <button id="registerButton" class="btn-discord">Kaydol</button>
                    <div class="auth-footer">
                        Zaten üyen var mı? <span id="toLogin">Giriş Yap</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- Animated Background Particles -->
        <div id="particles"></div>
    </div>

    <!-- MAIN APP STRUCTURE -->
    <div id="app-dashboard" class="app-layout hidden">

        <!-- 1. SERVER RAIL (Extreme Left) -->
        <nav class="server-rail">
            <div class="server-icon home active" title="Ana Sayfa">
                <i class="fa-brands fa-discord"></i>
            </div>
            <div class="separator"></div>
            <div class="server-icon" title="Oyun Sunucusu 1">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='50'%3E%3Crect width='50' height='50' fill='%237289da'/%3E%3Ctext x='50%25' y='50%25' dy='.35em' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold' font-size='16'%3EG1%3C/text%3E%3C/svg%3E"
                    alt="S1">
                <div class="pill"></div>
            </div>
            <div class="server-icon" title="VIP Lounge">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='50' height='50'%3E%3Crect width='50' height='50' fill='%23d946ef'/%3E%3Ctext x='50%25' y='50%25' dy='.35em' text-anchor='middle' fill='white' font-family='sans-serif' font-weight='bold' font-size='14'%3EVIP%3C/text%3E%3C/svg%3E"
                    alt="VIP">
                <div class="pill"></div>
            </div>
            <div class="separator"></div>
            <div class="server-icon add-server">
                <i class="fa-solid fa-plus"></i>
            </div>
            <div class="server-icon explore">
                <i class="fa-solid fa-compass"></i>
            </div>
        </nav>

        <!-- 2. CHANNEL SIDEBAR (Middle Left) -->
        <aside class="channel-sidebar">
            <header class="server-header">
                <h3>Nexus Network <i class="fa-solid fa-chevron-down"></i></h3>
            </header>

            <div class="channel-scroller">
                <!-- Category: Information -->
                <div class="channel-category">
                    <span class="cat-name"><i class="fa-solid fa-angle-down"></i> BİLGİ</span>
                    <div class="channel-item active" data-page="home">
                        <i class="fa-solid fa-hashtag"></i>
                        <span>kurallar</span>
                    </div>
                    <div class="channel-item">
                        <i class="fa-solid fa-hashtag"></i>
                        <span>duyurular</span>
                    </div>
                </div>

                <!-- Category: Actions -->
                <div class="channel-category">
                    <span class="cat-name"><i class="fa-solid fa-angle-down"></i> İŞLEMLER</span>
                    <div class="channel-item" id="navMarket">
                        <i class="fa-solid fa-shop"></i>
                        <span>market</span>
                        <span class="new-badge">YENİ</span>
                    </div>
                    <div class="channel-item" id="navLeaderboard">
                        <i class="fa-solid fa-trophy"></i>
                        <span>liderlik-tablosu</span>
                    </div>
                </div>

                <!-- Category: Games -->
                <div class="channel-category">
                    <span class="cat-name"><i class="fa-solid fa-angle-down"></i> OYUNLAR</span>
                    <div class="channel-item game-trigger" data-game="wheel">
                        <i class="fa-solid fa-gamepad"></i>
                        <span>çarkıfelek</span>
                    </div>
                    <div class="channel-item game-trigger" data-game="chess">
                        <i class="fa-solid fa-chess"></i>
                        <span>satranç-pro</span>
                    </div>
                    <div class="channel-item game-trigger" data-game="rps">
                        <i class="fa-solid fa-hand-scissors"></i>
                        <span>taş-kağıt</span>
                    </div>
                </div>

                <!-- Admin Area -->
                <div class="channel-category admin-only hidden" id="adminCategory">
                    <span class="cat-name"><i class="fa-solid fa-angle-down"></i> YÖNETİM</span>
                    <div class="channel-item" id="navAdmin">
                        <i class="fa-solid fa-shield-halved"></i>
                        <span>admin-paneli</span>
                    </div>
                </div>
            </div>

            <!-- User Area (Bottom Fixed) -->
            <div class="user-area">
                <div class="user-avatar-wrapper">
                    <img id="sidebarAvatar"
                        src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40'%3E%3Crect width='40' height='40' fill='%23444'/%3E%3C/svg%3E"
                        alt="Me">
                    <div class="status-indicator online"></div>
                </div>
                <div class="user-details">
                    <div id="sidebarUsername" class="username">Yükleniyor...</div>
                    <div id="sidebarRole" class="discriminator">#0000</div>
                </div>
                <div class="user-controls">
                    <button><i class="fa-solid fa-microphone"></i></button>
                    <button><i class="fa-solid fa-headphones"></i></button>
                    <button id="settingsBtn"><i class="fa-solid fa-gear"></i></button>
                    <button id="logoutBtn"><i class="fa-solid fa-right-from-bracket"></i></button>
                </div>
            </div>
        </aside>

        <!-- 3. MAIN CONTENT (Center) -->
        <main class="chat-area">
            <header class="chat-header-bar">
                <div class="header-left">
                    <i class="fa-solid fa-hashtag text-gray"></i>
                    <h3>genel-sohbet</h3>
                    <div class="divider-vertical"></div>
                    <span class="topic">Nexus ana sohbet kanalı</span>
                </div>
                <div class="header-right">
                    <div class="icon-btn search-bar">
                        <input type="text" placeholder="Ara" disabled>
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                    <i class="fa-solid fa-bell icon-btn-simple"></i>
                    <i class="fa-solid fa-thumbtack icon-btn-simple"></i>
                    <i class="fa-solid fa-user-group icon-btn-simple active" id="toggleMembers"></i>
                </div>
            </header>

            <div class="messages-wrapper" id="globalMessages">
                <!-- Welcome Message -->
                <div class="welcome-banner">
                    <div class="welcome-icon"><i class="fa-solid fa-hashtag"></i></div>
                    <h1>#genel-sohbet Kanalına Hoş Geldin!</h1>
                    <p>Burası Nexus'un başlangıcı. Sohbet et, oyun oyna ve keyfine bak.</p>
                </div>
                <!-- Messages injected via JS -->
            </div>

            <div class="input-area-wrapper">
                <div class="chat-input-box">
                    <button class="attach-btn"><i class="fa-solid fa-circle-plus"></i></button>
                    <input type="text" id="globalChatInput" placeholder="#genel-sohbet kanalına mesaj gönder">
                    <div class="input-icons">
                        <i class="fa-solid fa-gift"></i>
                        <i class="fa-solid fa-note-sticky"></i>
                        <i class="fa-regular fa-face-smile"></i>
                    </div>
                </div>
                <div class="typing-indicator hidden">Biri yazıyor...</div>
            </div>
        </main>

        <!-- 4. MEMBER LIST (Right) -->
        <aside class="member-sidebar" id="memberSidebar">
            <div class="member-category">
                <span>KURUCU — 1</span>
            </div>
            <div class="member-item founder-glow">
                <div class="avatar-wrapper">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32'%3E%3Crect width='32' height='32' fill='%235865F2'/%3E%3C/svg%3E"
                        alt="F">
                    <div class="status-indicator dnd"></div>
                </div>
                <div class="member-info">
                    <span class="name founder-color">KCGLN ALİ</span>
                    <span class="activity">Kod yazıyor...</span>
                </div>
            </div>

            <div class="member-category">
                <span>ÇEVRİMİÇİ — <span id="onlineCountRaw">0</span></span>
            </div>
            <div id="memberListContainer">
                <!-- Dynamic Members -->
            </div>
        </aside>

    </div>

    <!-- MODALS (Re-styled) -->
    <div id="modal-container" class="modal-layer hidden">
        <!-- Dynamic Modal Content Injection -->
        <div class="modal-box-discord">
            <!-- Content -->
        </div>
    </div>

    <!-- GAME OVERLAYS (Full Screen Games) -->
    <div id="game-overlay" class="game-layer hidden">
        <button class="close-game-btn"><i class="fa-solid fa-xmark"></i> ÇIKIŞ</button>
        <div id="game-stage" class="game-stage">
            <!-- Game Canvas/Content -->
        </div>
        <div class="game-controls-bottom">
            <!-- Betting Controls -->
        </div>
    </div>

    <!-- Old Modal Structure Support (Hidden/Refactored) -->
    <!-- We will map old JS calls to new overlay logic in CSS/JS -->
    <div id="modalWheel" class="hidden"></div>
    <div id="modalMarket" class="hidden"></div>
    <div id="modalAdmin" class="hidden"></div>

    <!-- TOAST NOTIFICATIONS -->
    <div id="toast-rack"></div>

    <script type="module" src="app.js"></script>
    <script>
        // Simple loading simulation
        setTimeout(() => {
            document.getElementById('boot-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('boot-screen').style.display = 'none';
            }, 500);
        }, 1500);
    </script>
</body>

</html>
